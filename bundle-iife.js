var SnowcatFP=function(e){"use strict";function t(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))}function r(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}"function"==typeof SuppressedError&&SuppressedError;var n=["accelerometer","accessibility","ambient-light-sensor","camera","clipboard-read","clipboard-write","geolocation","background-sync","magnetometer","microphone","midi","notifications","payment-handler","persistent-storage","push"];function a(){return t(this,void 0,void 0,(function(){var e,t,a,o,i;return r(this,(function(r){switch(r.label){case 0:e={},t=0,a=n,r.label=1;case 1:if(!(t<a.length))return[3,6];o=a[t],r.label=2;case 2:return r.trys.push([2,4,,5]),[4,navigator.permissions.query({name:o})];case 3:return i=r.sent(),e[o]=i.state.toLowerCase(),[3,5];case 4:return r.sent(),e[o]="not supported",[3,5];case 5:return t++,[3,1];case 6:return[2,e]}}))}))}function o(e){return t(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("https://previewfp.snowcatcloud.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:if(!(t=r.sent()).ok)throw new Error("Network response was not ok: ".concat(t.statusText));return[4,t.json()];case 2:return[2,r.sent()];case 3:throw n=r.sent(),console.error("Error occurred while sending data: ".concat(n)),n;case 4:return[2]}}))}))}function i(){return t(this,void 0,void 0,(function(){var e,t,n,o,i;return r(this,(function(r){switch(r.label){case 0:return e=function(){var e=["monospace","sans-serif","serif"],t=document.getElementsByTagName("body")[0],r=document.createElement("span");r.style.fontSize="72px",r.innerHTML="mmmmmmmmmmlli";var n={},a={};e.forEach((function(e){r.style.fontFamily=e,t.appendChild(r),n[e]=r.offsetWidth,a[e]=r.offsetHeight,t.removeChild(r)}));var o={};return["Cambria","Consolas","Calibri","Menlo","Futura","Liberation Sans","DejaVu Sans Mono","Ubuntu","Myriad Pro","Minion Pro","Adobe Caslon Pro","Windings","Arial","Times New Roman","AquaKana","LastResort","Noto Sans Canadian Aboriginal","STIXGeneral-Bold","Roboto","Noto","Droid Sans","Droid Sans Mono","Athelas","San Francisco","New York","Seravek","Iowan"].forEach((function(i){for(var s=!1,c=0,u=e;c<u.length;c++){var l=u[c];r.style.fontFamily="".concat(i,",").concat(l),t.appendChild(r);var f=r.offsetWidth!==n[l]||r.offsetHeight!==a[l];t.removeChild(r),s=s||f}o[i]=s})),o}(),l=document.createElement("canvas"),f=l.getContext("2d"),t=f?(l.width=200,l.height=200,f.fillStyle="rgb(255, 0, 0)",f.fillRect(50,50,100,100),f.strokeStyle="rgb(0, 255, 0)",f.moveTo(0,0),f.lineTo(200,200),f.stroke(),f.font="18px Arial",f.fillStyle="rgb(0, 0, 255)",f.fillText("Entropy",20,100),f.beginPath(),f.moveTo(75,40),f.bezierCurveTo(75,37,70,25,50,25),f.bezierCurveTo(20,25,20,62.5,20,62.5),f.bezierCurveTo(20,80,40,102,75,120),f.bezierCurveTo(110,102,130,80,130,62.5),f.bezierCurveTo(130,62.5,130,25,100,25),f.bezierCurveTo(85,25,75,37,75,40),f.fillStyle="#8ED6FF",f.fill(),f.stroke(),f.shadowColor="black",f.shadowBlur=10,f.shadowOffsetX=10,f.shadowOffsetY=10,l.toDataURL()):null,n=function(){var e,t=document.createElement("canvas");try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(e){return null}if(!e)return null;for(var r=e.getSupportedExtensions()||[],n=[e.VERTEX_SHADER,e.FRAGMENT_SHADER],a=[e.LOW_FLOAT,e.MEDIUM_FLOAT,e.HIGH_FLOAT,e.LOW_INT,e.MEDIUM_INT,e.HIGH_INT],o={},i=0,s=n;i<s.length;i++)for(var c=s[i],u=c===e.VERTEX_SHADER?"VERTEX_SHADER":"FRAGMENT_SHADER",l=function(t){var r=function(){switch(t){case e.LOW_FLOAT:return"LOW_FLOAT";case e.MEDIUM_FLOAT:return"MEDIUM_FLOAT";case e.HIGH_FLOAT:return"HIGH_FLOAT";case e.LOW_INT:return"LOW_INT";case e.MEDIUM_INT:return"MEDIUM_INT";case e.HIGH_INT:return"HIGH_INT";default:return"UNKNOWN"}}(),n=e.getShaderPrecisionFormat(c,t);n&&(o["".concat(u,".").concat(r)]=[n.rangeMin,n.rangeMax,n.precision])},f=0,d=a;f<d.length;f++)l(d[f]);var m={maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubeMapTextureSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxVertexAttribs:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniformVectors:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryingVectors:e.getParameter(e.MAX_VARYING_VECTORS),maxCombinedTextureImageUnits:e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),maxVertexTextureImageUnits:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureImageUnits:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),maxFragmentUniformVectors:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),aliasedPointSizeRange:e.getParameter(e.ALIASED_POINT_SIZE_RANGE),aliasedLineWidthRange:e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),redBits:e.getParameter(e.RED_BITS),greenBits:e.getParameter(e.GREEN_BITS),blueBits:e.getParameter(e.BLUE_BITS),alphaBits:e.getParameter(e.ALPHA_BITS),depthBits:e.getParameter(e.DEPTH_BITS),stencilBits:e.getParameter(e.STENCIL_BITS),subpixelBits:e.getParameter(e.SUBPIXEL_BITS)};return{extensions:r,shaderPrecisions:o,parameters:m}}(),s=(new Date).getTimezoneOffset(),c=Math.abs(Math.floor(s/60)),u=Math.abs(s%60),o="".concat(s>0?"-":"+").concat(c.toString().padStart(2,"0"),":").concat(u.toString().padStart(2,"0")),[4,a()];case 1:return i=r.sent(),[2,{getPermissions:i,getCanvas:t,getUTCTimezoneOffset:o,getFonts:e,getWebGL:n}]}var s,c,u,l,f}))}))}return e.load=function(){return t(void 0,void 0,void 0,(function(){var e,n,a;return r(this,(function(s){switch(s.label){case 0:e={},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,i()];case 2:return e=s.sent(),[3,4];case 3:return n=s.sent(),console.error(n),[3,4];case 4:return console.debug("SnowcatFP has been loaded!"),a=function(){return t(void 0,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:t={},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),console.error("Error occurred while sending data: ".concat(n)),[3,4];case 4:return[2,t]}}))}))},[2,{get:a,debug:function(){return t(void 0,void 0,void 0,(function(){return r(this,(function(t){return[2,e]}))}))}}]}}))}))},e}({});
